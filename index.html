<!DOCTYPE html><html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Jurnal Trading Forex</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background:#0d1117; color:#e6edf3; margin:0; padding:20px; }
    h1 { text-align:center; color:#58a6ff; animation: fadeIn 1s ease; }
    form { background:#161b22; padding:20px; border-radius:16px; box-shadow:0 4px 25px rgba(0,0,0,0.6); animation: fadeInUp 0.8s ease; max-width:600px; margin:20px auto; }
    label { display:block; margin-top:10px; font-weight:bold; color:#c9d1d9; }
    input, button { margin:8px 0; padding:12px; border:none; border-radius:8px; transition: all 0.3s ease; font-size:0.95em; }
    input { width:100%; background:#21262d; color:#e6edf3; }
    input:focus { outline:none; background:#30363d; }
    button { background:#238636; color:white; cursor:pointer; font-weight:bold; box-shadow:0 3px 10px rgba(0,0,0,0.4); width:100%; }
    button:hover { background:#2ea043; transform: translateY(-2px); box-shadow:0 6px 15px rgba(0,0,0,0.5); }
    table { width:100%; border-collapse:collapse; margin-top:20px; border-radius:12px; overflow:hidden; }
    th, td { border:1px solid #30363d; padding:12px; text-align:center; }
    th { background:#21262d; color:#58a6ff; font-size:0.95em; }
    td { background:#161b22; }
    tr { transition: background 0.3s ease; }
    tr:hover { background:#21262d; }
    tr.new-row { animation: fadeSlideIn 0.5s ease forwards; }
    .stats { display:flex; justify-content:space-around; margin-top:30px; gap:20px; flex-wrap:wrap; }
    .card { background:#161b22; padding:20px; border-radius:16px; box-shadow:0 4px 20px rgba(0,0,0,0.5); text-align:center; flex:1; min-width:150px; animation: fadeInUp 0.8s ease; }
    .card h3 { margin:0; font-size:1em; color:#8b949e; }
    .card p { margin:12px 0 0; font-size:1.6em; font-weight:bold; color:#58a6ff; }
    canvas { background:#161b22; border-radius:16px; padding:10px; animation: fadeIn 1s ease; margin-top:20px; }#toast { position:fixed; bottom:30px; right:30px; background:#238636; color:white; padding:15px 20px; border-radius:12px; box-shadow:0 6px 15px rgba(0,0,0,0.6); opacity:0; transform: translateY(20px); transition: all 0.5s ease; font-weight:bold; z-index:999; }
#toast.show { opacity:1; transform: translateY(0); }

@keyframes fadeIn { from { opacity:0; } to { opacity:1; } }
@keyframes fadeInUp { from { opacity:0; transform: translateY(20px); } to { opacity:1; transform: translateY(0); } }
@keyframes fadeSlideIn { from { opacity:0; transform: translateY(-10px); } to { opacity:1; transform: translateY(0); } }

  </style>
</head>
<body>
  <h1>📈 Jurnal Trading Forex</h1>  <form id="tradeForm">
    <label>Pair:</label>
    <input type="text" id="pair" required><label>Lot:</label>
<input type="number" id="lot" step="0.01" required>

<label>Entry Price:</label>
<input type="number" id="entry" step="0.00001" required>

<label>Exit Price:</label>
<input type="number" id="exit" step="0.00001" required>

<label>P/L (manual):</label>
<input type="number" id="pl" step="0.01" required>

<label>Catatan:</label>
<input type="text" id="notes">

<button type="submit">💾 Simpan Trade</button>

  </form>  <table id="tradeTable">
    <thead>
      <tr>
        <th>Pair</th>
        <th>Lot</th>
        <th>Entry</th>
        <th>Exit</th>
        <th>P/L</th>
        <th>Catatan</th>
        <th>Aksi</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>  <div class="stats">
    <div class="card"><h3>Total Trade</h3><p id="totalTrades">0</p></div>
    <div class="card"><h3>Total P/L</h3><p id="totalPL">0</p></div>
    <div class="card"><h3>Winrate</h3><p id="winRate">0%</p></div>
  </div>  <h2 style="text-align:center; margin-top:30px; animation: fadeIn 1s ease;">Equity Curve</h2>
  <canvas id="equityChart" height="100"></canvas>  <div id="toast"></div>  <script>
    let trades = JSON.parse(localStorage.getItem("trades")) || [];
    const form = document.getElementById("tradeForm");
    const tableBody = document.querySelector("#tradeTable tbody");
    const totalTradesEl = document.getElementById("totalTrades");
    const totalPLEl = document.getElementById("totalPL");
    const winRateEl = document.getElementById("winRate");
    const toast = document.getElementById("toast");

    function showToast(message, color="#238636"){
      toast.textContent = message;
      toast.style.background = color;
      toast.classList.add("show");
      setTimeout(()=> toast.classList.remove("show"), 2500);
    }

    function animateValue(el, start, end, duration) {
      let startTime = null;
      function step(timestamp) {
        if (!startTime) startTime = timestamp;
        const progress = Math.min((timestamp - startTime) / duration, 1);
        el.textContent = (start + (end - start) * progress).toFixed(2);
        if (progress < 1) requestAnimationFrame(step);
      }
      requestAnimationFrame(step);
    }

    function renderTrades(){
      tableBody.innerHTML = "";
      trades.forEach((t, i)=>{
        const row = document.createElement("tr");
        row.classList.add("new-row");
        row.innerHTML = `
          <td>${t.pair}</td>
          <td>${t.lot}</td>
          <td>${t.entry}</td>
          <td>${t.exit}</td>
          <td>${t.pl}</td>
          <td>${t.notes}</td>
          <td><button style="background:#da3633;color:white;padding:6px 10px;border-radius:6px;cursor:pointer;" onclick="deleteTrade(${i})">Hapus</button></td>
        `;
        tableBody.appendChild(row);
      });
      updateStats();
      updateChart();
      localStorage.setItem("trades", JSON.stringify(trades));
    }

    function updateStats(){
      totalTradesEl.textContent = trades.length;
      const totalPL = trades.reduce((acc,t)=>acc+parseFloat(t.pl),0);
      animateValue(totalPLEl, parseFloat(totalPLEl.textContent)||0, totalPL, 500);
      const wins = trades.filter(t=>t.pl>0).length;
      winRateEl.textContent = trades.length ? ((wins/trades.length)*100).toFixed(1)+"%" : "0%";
    }

    function deleteTrade(i){
      trades.splice(i,1);
      renderTrades();
      showToast("Trade berhasil dihapus ❌", "#da3633");
    }

    form.addEventListener("submit", e=>{
      e.preventDefault();
      const trade = {
        pair: document.getElementById("pair").value,
        lot: parseFloat(document.getElementById("lot").value),
        entry: parseFloat(document.getElementById("entry").value),
        exit: parseFloat(document.getElementById("exit").value),
        pl: parseFloat(document.getElementById("pl").value),
        notes: document.getElementById("notes").value
      };
      trades.push(trade);
      form.reset();
      renderTrades();
      showToast("Trade berhasil disimpan ✅");
    });

    let chart;
    function updateChart(){
      const ctx = document.getElementById("equityChart").getContext("2d");
      const equity = [];
      let running = 0;
      trades.forEach(t=>{
        running += parseFloat(t.pl);
        equity.push(running);
      });
      if(chart) chart.destroy();
      chart = new Chart(ctx,{
        type:'line',
        data:{labels: trades.map((_,i)=>i+1), datasets:[{label:'Equity',data:equity,borderColor:'#58a6ff',tension:0.4,fill:true,backgroundColor:'rgba(88,166,255,0.1)'}]},
        options:{responsive:true,animation:{duration:900,easing:'easeOutQuart'},plugins:{legend:{display:false}}}
      });
    }

    renderTrades();
  </script></body>
</html>